"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ava_1 = require("ava");
const getFileToSha256FileMapFunc_1 = require("../src/getFileToSha256FileMapFunc");
const CmdRunner_1 = require("../src/CmdRunner");
ava_1.default.cb("Can get a command runner", (tst) => {
    let cmdSpawner = CmdRunner_1.CmdRunner.getCmdSpawner({});
    let runner = getFileToSha256FileMapFunc_1.getRunner({ cmdSpawner });
    runner(__filename, (err, result) => {
        tst.is(err, null);
        tst.regex(result, /^[a-z0-9]{64}/);
        tst.end();
    });
});
ava_1.default.cb("Can convert a File to Sha256File", (tst) => {
    let mf = (f, next) => {
        next(null, "SHA256");
    };
    let d = new Date();
    let f = getFileToSha256FileMapFunc_1.getFileToSha256FileMapFunc({ runner: mf }, "./test/..");
    f({ path: "README.md", fileByteCount: 1, modifiedDate: d }, (err, result) => {
        tst.is(err, null);
        tst.deepEqual(result, { path: "README.md", fileByteCount: 1, modifiedDate: d, sha256: "SHA256" });
        tst.end();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0RmlsZVRvU2hhMjU2RmlsZU1hcEZ1bmMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi90ZXN0L2dldEZpbGVUb1NoYTI1NkZpbGVNYXBGdW5jLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQXVCO0FBQ3ZCLGtGQUEwRjtBQUMxRixnREFBNkM7QUFJN0MsYUFBSSxDQUFDLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxDQUFDLEdBQUc7SUFFcEMsSUFBSSxVQUFVLEdBQUcscUJBQVMsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0MsSUFBSSxNQUFNLEdBQUcsc0NBQVMsQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFFdkMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsRUFBRSxNQUFjO1FBQ25DLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLGVBQWUsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDLENBQUM7QUFFSCxhQUFJLENBQUMsRUFBRSxDQUFDLGtDQUFrQyxFQUFFLENBQUMsR0FBRztJQUU1QyxJQUFJLEVBQUUsR0FBc0MsQ0FBQyxDQUFtQixFQUFFLElBQUk7UUFDbEUsSUFBSSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN6QixDQUFDLENBQUM7SUFDRixJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBQ25CLElBQUksQ0FBQyxHQUFHLHVEQUEwQixDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBRWhFLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBTTtRQUNwRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsQixHQUFHLENBQUMsU0FBUyxDQUNULE1BQU0sRUFDTixFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsQ0FDN0UsQ0FBQztRQUNGLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDLENBQUMifQ==