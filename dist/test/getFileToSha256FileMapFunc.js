"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ava_1 = require("ava");
const getFileToSha256FileMapFunc_1 = require("../src/getFileToSha256FileMapFunc");
const CmdRunner_1 = require("../src/CmdRunner");
ava_1.default.cb("Can get a command runner", (tst) => {
    let cmdSpawner = CmdRunner_1.CmdRunner.getCmdSpawner({});
    let runner = getFileToSha256FileMapFunc_1.getRunner({ cmdSpawner });
    runner(__filename, (err, result) => {
        tst.is(err, null);
        tst.regex(result, /^[a-z0-9]{64}/);
        tst.end();
    });
});
ava_1.default.cb("Can convert a File to Sha256File", (tst) => {
    let mf = (f, next) => {
        next(null, "SHA256");
    };
    let d = new Date();
    let f = getFileToSha256FileMapFunc_1.getFileToSha256FileMapFunc({ runner: mf }, "./test/..");
    f({ path: "README.md", fileByteCount: 1, modifiedDate: d }, (err, result) => {
        tst.is(err, null);
        tst.deepEqual(result, { path: "README.md", fileByteCount: 1, modifiedDate: d, sha256: "SHA256" });
        tst.end();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0RmlsZVRvU2hhMjU2RmlsZU1hcEZ1bmMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi90ZXN0L2dldEZpbGVUb1NoYTI1NkZpbGVNYXBGdW5jLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQXVCO0FBQ3ZCLGtGQUEwRjtBQUMxRixnREFBNkM7QUFJN0MsYUFBSSxDQUFDLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO0lBRXhDLElBQUksVUFBVSxHQUFHLHFCQUFTLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzdDLElBQUksTUFBTSxHQUFHLHNDQUFTLENBQUMsRUFBRSxVQUFVLEVBQUUsQ0FBQyxDQUFDO0lBRXZDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLEVBQUUsTUFBYyxFQUFFLEVBQUU7UUFDdkMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEIsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2QsQ0FBQyxDQUFDLENBQUM7QUFFUCxDQUFDLENBQUMsQ0FBQztBQUVILGFBQUksQ0FBQyxFQUFFLENBQUMsa0NBQWtDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUVoRCxJQUFJLEVBQUUsR0FBc0MsQ0FBQyxDQUFtQixFQUFFLElBQUksRUFBRSxFQUFFO1FBQ3RFLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDekIsQ0FBQyxDQUFDO0lBQ0YsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUNuQixJQUFJLENBQUMsR0FBRyx1REFBMEIsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUVoRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3hFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxTQUFTLENBQ1QsTUFBTSxFQUNOLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUM3RSxDQUFDO1FBQ0YsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2QsQ0FBQyxDQUFDLENBQUM7QUFFUCxDQUFDLENBQUMsQ0FBQyJ9