"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ava_1 = require("ava");
const getFilenameToFileMapFunc_1 = require("../src/getFilenameToFileMapFunc");
const fs_1 = require("fs");
const path_1 = require("path");
ava_1.default.cb("Can map", (tst) => {
    let mf = getFilenameToFileMapFunc_1.getFilenameToFileMapFunc({ stat: fs_1.stat }, __dirname);
    let fiveYear = 1000 * 60 * 60 * 24 * 365 * 5;
    mf({ path: path_1.basename(__filename) }, (err, f) => {
        tst.is(err, null);
        tst.true(f.fileByteCount > 0, "No byteCount");
        tst.true(f.modifiedDate.getTime() < (new Date()).getTime(), "How can a file be created in the future?");
        tst.true(f.modifiedDate.getTime() > (new Date()).getTime() - fiveYear, "Over 5 years old? Maybe?");
        tst.end();
    });
});
ava_1.default.cb("Can convert a File to Sha256File", (tst) => {
    let mf = getFilenameToFileMapFunc_1.getFilenameToFileMapFunc({ stat: fs_1.stat }, ".");
    mf({ path: "Non Existant Filename" }, (err, f) => {
        tst.truthy(err);
        tst.end();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0RmlsZW5hbWVUb0ZpbGVNYXBGdW5jLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vdGVzdC9nZXRGaWxlbmFtZVRvRmlsZU1hcEZ1bmMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2QkFBdUI7QUFDdkIsOEVBQTJFO0FBRTNFLDJCQUEwQjtBQUMxQiwrQkFBZ0M7QUFFaEMsYUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUV2QixJQUFJLEVBQUUsR0FBRyxtREFBd0IsQ0FBQyxFQUFFLElBQUksRUFBSixTQUFJLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN2RCxJQUFJLFFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUU3QyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsZUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBTyxFQUFFLEVBQUU7UUFDaEQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEIsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsYUFBYSxHQUFHLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUM5QyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUUsMENBQTBDLENBQUMsQ0FBQztRQUN4RyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsUUFBUSxFQUFFLDBCQUEwQixDQUFDLENBQUM7UUFDbkcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2QsQ0FBQyxDQUFDLENBQUM7QUFFUCxDQUFDLENBQUMsQ0FBQztBQUVILGFBQUksQ0FBQyxFQUFFLENBQUMsa0NBQWtDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUVoRCxJQUFJLEVBQUUsR0FBRyxtREFBd0IsQ0FBQyxFQUFFLElBQUksRUFBSixTQUFJLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUVqRCxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUM3QyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDLENBQUMifQ==